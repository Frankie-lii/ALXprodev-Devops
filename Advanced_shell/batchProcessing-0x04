#!/bin/bash

# List of Pokémon
pokemon_list=(bulbasaur ivysaur venusaur charmander charmeleon)

# Output directory
output_dir="pokemon_data"
mkdir -p "$output_dir"

# Function to fetch data for a single Pokémon
fetch_pokemon() {
	  name=$1
	    echo "Fetching data for $name..."
	      curl -s -f "https://pokeapi.co/api/v2/pokemon/$name" -o "${output_dir}/${name}.json"
	        if [ $? -eq 0 ]; then
			    echo "Saved data to ${output_dir}/${name}.json ✅"
			      else
				          echo "Failed to fetch data for $name ❌" >> errors.txt
					    fi
				    }

				    # Loop through Pokémon and fetch in parallel
				    for name in "${pokemon_list[@]}"; do
					      fetch_pokemon "$name" &
				      done

				      # Wait for all background jobs to finish
				      wait

				      echo "✅ All Pokémon data fetched."

